# L36：Babel 的安装与使用

本节对应视频第四章第一课。

本节大致录制于 `2020-02-07 10:10:00`。

---



> [!tip]
>
> `Babel` 官方文档：https://babeljs.io/（:star: 推荐）
>
> 社区中文网：https://www.babeljs.cn/



## 1 简介

`Babel` 一词来自希伯来语，直译为 **巴别塔**：

![2020-02-07-10-12-01](../../assets/36.1.png)

创始人用 **巴别塔** 象征 **统一的国度、统一的语言**。

而今天的 `JS` 世界缺少这样一座巴别塔，不同版本的浏览器能识别的 `ES` 标准并不相同，从而导致开发者面对不同版本的浏览器要使用不同版本的语言，和古巴比伦一样，前端开发也面临着这样的困境。

`Babel` 就是为解决这类问题而生的。它是一个编译器，负责将不同标准书写的语言编译为统一的、能被各种浏览器识别的语言：

![2020-02-07-10-25-56](../../assets/36.2.png)

鉴于语言的转换工作灵活多样，`Babel` 的做法与 `PostCSS`、`Webpack` 类似，其本身仅提供一些分析功能，真正的转换工作需要依托各类插件来完成：

![2020-02-07-10-27-30](../../assets/36.3.png)



## 2 Babel 的安装

`Babel` 既可以和构建工具联合使用，也可以独立使用。

若要独立使用 `Babel`，只需安装如下两个库：

- `@babel/core`：`Babel` 核心库，提供了编译所需的所有 `API`；
- `@babel/cli`：`Babel` 专用命令行工具，用于调用其核心库 `API`，完成最终编译。

安装命令：

```shell
npm i -D @babel/core @babel/cli
```



## 3 用法简介

`@babel/cli` 的使用极其简单，它提供了一个 `babel` 命令：

```shell
# 按文件编译
babel 要编译的文件 -o 编辑结果文件

# 按目录编译
babel 要编译的整个目录 -d 编译结果放置的目录

# 开启监听模式
babel -w
```



## 4 Babel 的配置

`Babel` 的实际编译依托于 `Babel` **插件（plugins）** 及其 **预设（presets）** 来完成。

> [!note]
>
> **注意**
>
> **`Babel` 预设** 和 **`PostCSS` 预设** 含义类似，都是多个插件的集合体，用于解决一系列常见的兼容性问题。

如何告诉 `Babel` 要使用哪些插件或预设呢？需要通过一个配置文件 `.babelrc`：

```json
{
    "presets": [],
    "plugins": []
}
```